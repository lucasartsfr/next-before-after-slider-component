!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.ReactBeforeAfterSliderComponent=t(require("react")):e.ReactBeforeAfterSliderComponent=t(e.react)}(this,(e=>(()=>{"use strict";var t={156:t=>{t.exports=e}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var o={};return(()=>{r.d(o,{default:()=>a});var e,t=r(156),n=r.n(t),i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function c(e,t){return e>t?t:e<0?0:e}function a(r){var o=r.firstImage,a=r.secondImage,f=r.className,u=r.ComponentAfter,s=r.ComponentBefore,l=r.withResizeFeel,d=void 0===l||l,m=r.currentPercentPosition,v=r.onVisible,p=r.onReady,E=r.onChangePercentPosition,g=r.delimiterIconStyles,h=r.feelsOnlyTheDelimiter,b=void 0!==h&&h,y=r.delimiterColor,w=void 0===y?"#fff":y,O=["before-after-slider"];f&&O.push(f);var L=(0,t.useRef)(null),S=(0,t.useState)(null),x=S[0],C=S[1],M=(0,t.useState)(m||50),_=M[0],R=M[1],j=(0,t.useState)(e.DEFAULT),T=j[0],I=j[1],P=function(e,n,r){var o=(0,t.useState)(!1),i=o[0],c=o[1],a=(0,t.useState)(0),f=a[0],u=a[1];return(0,t.useEffect)((function(){!i&&2===f&&e&&n.current&&c(!0)}),[f,e,i,n.current]),(0,t.useEffect)((function(){i&&r&&r()}),[i]),{onImageLoad:function(){u(f+1)},isReady:i}}(x,L,p),A=P.onImageLoad,B=P.isReady,N=(0,t.useState)({top:0,left:0}),D=N[0],F=N[1],U=(0,t.useState)(v&&"undefined"!=typeof window&&Boolean(window.IntersectionObserver)?new IntersectionObserver((function(e){U&&v&&e.forEach((function(e){e.intersectionRatio>.95&&(U.disconnect(),v())}))}),{threshold:[0,.95]}):null)[0];(0,t.useEffect)((function(){if(U){if(!B)return;U.observe(L.current)}}),[B]),(0,t.useEffect)((function(){m&&x&&R(c(m,x))}),[m,x]);var k=function(){if(L.current){var e=L.current.offsetWidth;C(e)}},V=function(){I(e.DEFAULT)};!function(e,n){(0,t.useEffect)((function(){return e(),document.addEventListener("click",n),function(){document.removeEventListener("click",n)}}),[])}(k,V);var z=x?{width:"".concat(x,"px")}:void 0,q={width:"".concat(_,"%")},X=n().useMemo((function(){return i({backgroundColor:w},g||{})}),[w,g]),W=n().useMemo((function(){return{left:"".concat(_,"%"),backgroundColor:w}}),[_,w]),Y=function(){!function(){if(L.current){var e=L.current.getBoundingClientRect();F({top:e.top+pageYOffset,left:e.left+pageXOffset})}}(),I(e.MOVE)},G=function(t){if(T===e.MOVE){if(!x)return;var n=c(t.pageX-D.left,x)/x*100;E?E(n):R(n)}};!function(e,n){(0,t.useEffect)((function(){return n&&window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[])}(k,d);var H={onMouseDown:Y,onTouchStart:Y};return n().createElement("div",i({ref:L,className:O.join(" "),onMouseMove:function(e){return G(e)},onTouchMove:function(e){G(e.touches[0])},onTouchEnd:V,onTouchCancel:V},b?{}:H),n().createElement("div",{className:"before-after-slider__first-photo-container"},o?n().createElement("img",{src:o.imageUrl,onLoad:function(){k(),A()},draggable:!1,alt:o.alt}):s),Boolean(x)&&n().createElement(n().Fragment,null,n().createElement("div",{className:"before-after-slider__second-photo-container",style:q},o?n().createElement("img",{style:z,src:a.imageUrl,onLoad:A,draggable:!1,alt:a.alt}):u),n().createElement("div",i({className:"before-after-slider__delimiter",style:W},b?H:{}),n().createElement("div",null,n().createElement("div",{className:"before-after-slider__delimiter-icon",style:X})))))}!function(e){e.MOVE="move",e.DEFAULT="default"}(e||(e={}))})(),o.default})()));